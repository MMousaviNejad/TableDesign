name: Deploy React App to FTP

on:
  push:
    branches:
      - master

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v2

    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '14'  # نسخه Node.js که نیاز دارید را تنظیم کنید

    - name: Install dependencies
      run: npm install

    - name: Build React App
      run: DISABLE_ESLINT_PLUGIN=true npm run build
      
    - name: FTP Uploader
      # You may pin to the exact commit or the version.
      # uses: zinh/ftp-uploader-action@10d256274547c8b84848edf454bfeb0b8a451c41
      uses: zinh/ftp-uploader-action@v0.4
      with: 
          # Hostname of ftp server, eg: ftpHostname: ftp.test
          ftpHostname: site10882.siteasp.net
          # User of ftp account
          ftpUsername: site10882
          # Password of ftp account
          ftpPassword: wC?73fN!F9=m
          # Source folder
          src: build/
          # Destination folder
          dest: wwwroot/
          
